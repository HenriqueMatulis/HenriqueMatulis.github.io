<HTML>
<head>
    <title>Gravity - HM</title>
    <link href='style.css' rel='stylesheet' type='text/css'>
     <meta charset="utf-8"/>
</head>
<body>
    
    <canvas id='myCanvas'></canvas>
    <script src='vector.js'></script> 
    <script src='physics.js'></script> 
    <script src='visual.js'></script> 
    <script>
        var animate = window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        function(callback) {
            "use strict";
            window.setTimeout(callback, 1000/60); 
        };
        
        var canvas = document.getElementById("myCanvas");
        canvas.width = window.innerWidth * 0.85;
        canvas.height = window.innerHeight ;
        var context = canvas.getContext("2d");
        var a = new Physics.Ball(15,0,5,1e9);
        var b = new Physics.Ball(-15,0,5,1e9);
        var scale = .1, timeScale = 5;
        var focus = new Vector(0, 0);
        var f = function f(){
            context.fillStyle = "rgb(0,0,0)";
            context.fillRect(0,0,canvas.width, canvas.height);
            Physics.gravity(a, b);
            a.update(timeScale);
            b.update(timeScale);
            Physics.collision(a,b, timeScale);
            Visual.render(a, context, scale, focus, timeScale, false);
            Visual.render(b, context, scale, focus, timeScale, false);
            animate(f);
        }
        
        animate(f);
    </script>
    
    <div id='menu'>
    <p id='title'>Global Options</p>
        <div>
            <!-- use onblur='/' to undo unsubmitted changes-->
            <span title="Little performance impact, decreases accuracy"><p class = 'decription'>Timescale per step</p></span>
            <input id = 'timescale' value='50'  onkeyup='if (event.keyCode == 13) { uInput("timescale"); return false; }'  autocomplete='off' onblur='refresh("timescale")'/>
                
            <span title="Doesn't affect accuracy but decreases performance"><p class = 'decription'>Steps per frame (Integer Value)</p></span>
            <input id = 'steps' value='100'  onkeyup='if (event.keyCode == 13) { uInput("steps"); return false; }' autocomplete='off' onblur='refresh("steps")'/>
                
            <p class = 'decription' title="How many meters one pixel in the simulation represents">Scale (x meters : 1px)</p>
            <input id = 'scale' value='6e5'  onkeyup='if (event.keyCode == 13) { uInput("scale"); return false; }' autocomplete='off' onblur='refresh("scale")'/>
            
            <p class = 'decription'>Trace</p>
            <input id = 'trace' type="range"  min="0" max="1" autocomplete='off' value='0.1' step='0.0001'>
            
            <p class = 'decription'>Reference Grid</p>
            <input id = 'grid' type="checkbox"  autocomplete='off'>
            
            
        </div>
        <p id='title'>Selection Options</p>
        <div>
            <p class = 'decription'> mass (kg): </p> 
            <input id = 'mass' disabled  onkeyup='if (event.keyCode == 13) { uInput("mass"); return false; }' autocomplete='off'/> <input type="button" value="Set" disabled id='massSet' onclick='uInput("mass")'/>
                
            <p class = 'decription'> radius (m): </p> 
            <input id = 'radius' disabled  onkeyup='if (event.keyCode == 13) { uInput("radius"); return false; }' autocomplete='off'/> <input type="button" value="Set" disabled id='radiusSet' onclick='uInput("radius")'/>
                
            <p class = 'decription'> x location (m): </p> 
            <input id = 'x' disabled  onkeyup='if (event.keyCode == 13) { uInput("x"); return false; }' autocomplete='off'/><input type="button" value="Set" disabled id='xSet' onclick='uInput("x")'/>
                
            <p class = 'decription'> y location (m): </p> 
            <input id = 'y' disabled  onkeyup='if (event.keyCode == 13) { uInput("y"); return false; }' autocomplete='off'/><input type="button" value="Set" disabled id='ySet' onclick='uInput("y")'/>
                
            <p class = 'decription'>x velocity (m/s): </p> 
            <input id = 'vx' disabled  onkeyup='if (event.keyCode == 13) { uInput("vx"); return false; }' autocomplete='off'/><input type="button" value="Set" disabled id='vxSet' onclick='uInput("vx")'/>
                
            <p class = 'decription'>y velocity (m/s): </p> 
            <input id = 'vy' disabled  onkeyup='if (event.keyCode == 13) { uInput("vy"); return false; }' autocomplete='off'/><input type="button" value="Set" disabled id='vySet' onclick='uInput("vy")'/>
            
        </div>
         <p id='title'>Click Functions</p>
        <div>
            <p class = 'decription'><input type="radio" name="click" value="select" autocomplete='off' checked="checked"> Select</p>
            <p class = 'decription'> <input type="radio" name="click" value="drag" autocomplete='off'> Drag</p>
            <p class = 'decription'> <input type="radio" name="click" value="create" autocomplete='off'> Create</p>
            <p class = 'decription'> <input type="radio" name="click" value="delete" autocomplete='off'> Delete</p>
            <p class = 'decription'> <input type="radio" name="click" value="lock" autocomplete='off'> Lock Camera</p>
        </div>
        
        <p id='title'>Selection Functions</p>
        <div>
            <p class = 'decription'> <input type="radio" name="click" id="copy" value="copy" autocomplete='off' disabled> Make Copy</p>
            <p class = 'decription'> <input type="radio" name="click" id="orbit" value="orbit" autocomplete='off' disabled> Approximate Orbit</p>
            <!--<p class = 'decription'><input type="radio" name="click" value="scale"> Scale</p> -->
        </div>
        
        <p id='title'>Saving</p>
        <div>
            <p align = 'center'><input type="button" value='Reset' onclick='setup()'> <input type="button" value='Clear' onclick="deleteAll()"></p>
            <p align = 'center'><input type="button" value='Save' onclick='saveToFile()'> </p>
            <input type="file" value='Load' onchange='loadFromFile()' id='load'>
        </div>
            
    </div>
</body>
</HTML>